
<div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> ProposalFactory</h2><p class="base-contracts"><span>is</span> <a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/ownership/Ownable.sol">Ownable</a></p><p class="description">This is a dynamic factory. It means that you can change code of contracts, that will be produced. There is also another approach to that. Registered creation bytecode does not state constructor variables, so  <a href="https://github.com/mixbytes/renderhash/blob/12de414c61b1a8c6f331b31243e2ac188b658dd6/blockchain/contracts/Proposal.sol#L262">setup</a> method of a Proposal contract is used instead to emulate this behaviour. The cleaner way is to use in <a href="https://github.com/mixbytes/renderhash/blob/f53d250cad35122ae1bb7f0150ddcfa7e282cebe/blockchain/contracts/ProposalFactory.sol#L46">createConfiguredProposal</a> function `constructorArgs` param of type `bytes memory`, which will be concatenated to <a href="https://github.com/mixbytes/renderhash/blob/f53d250cad35122ae1bb7f0150ddcfa7e282cebe/blockchain/contracts/ProposalFactory.sol#L25">currentProposalBytecode</a>. In this case, we will be a 100% sure that it&#x27;s impossible to &quot;resetup&quot; proposal. Generally, this contract is used to produce (create) proposal contracts. If proposal contract is changed, then a new bytecode (aka template) is registered. Registered init bytecode is used as a creation bytecode.</p><div class="source">Source: <a href="https://github.com/mixbytes/renderhash/blob/master/blockchain/contracts/ProposalFactory.sol" target="_blank">contracts/ProposalFactory.sol</a></div><div class="author">Author: SabaunT </div></div><div class="index"><h2>Index</h2><ul><li><a href="https://github.com/mixbytes/renderhash/blob/f53d250cad35122ae1bb7f0150ddcfa7e282cebe/blockchain/contracts/ProposalFactory.sol#L27">ProposalCreated</a></li><li><a href="https://github.com/mixbytes/renderhash/blob/f53d250cad35122ae1bb7f0150ddcfa7e282cebe/blockchain/contracts/ProposalFactory.sol#L46">createConfiguredProposal</a></li><li><a href="https://github.com/mixbytes/renderhash/blob/f53d250cad35122ae1bb7f0150ddcfa7e282cebe/blockchain/contracts/ProposalFactory.sol#L33">registerProposalTemplate</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="events"><h3>Events</h3><ul><li><div class="item event"><span id="ProposalCreated" class="anchor-marker"></span><h4 class="name">ProposalCreated</h4><div class="body"><code class="signature">event <strong>ProposalCreated</strong><span>(address customer, address proposalAddress) </span></code><hr/><dl><dt><dd></dd></dl></div></div></li></ul></div><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="createConfiguredProposal" class="anchor-marker"></span><h4 class="name">createConfiguredProposal</h4><div class="body"><code class="signature">function <strong>createConfiguredProposal</strong><span>(uint256 arbiterReward, bytes proposalTaskIPFSHash, address contractor, IERC20 token) </span><span>external </span></code><hr/><div class="description"><p>Deploys with inline assembly. Generally, this function deploys and configures newly created proposal by calling <a href="https://github.com/mixbytes/renderhash/blob/12de414c61b1a8c6f331b31243e2ac188b658dd6/blockchain/contracts/Proposal.sol#L262">setup</a> method with provided args.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>arbiterReward</code> - amount of tokens payed for arbiter when he resolves dispute.</div><div><code>proposalTaskIPFSHash</code> - IPFS content reference to callers proposal task.</div><div><code>contractor</code> - task assignee.</div><div><code>token</code> - token used for payments.</div></dd></dl></div></div></li><li><div class="item function"><span id="registerProposalTemplate" class="anchor-marker"></span><h4 class="name">registerProposalTemplate</h4><div class="body"><code class="signature">function <strong>registerProposalTemplate</strong><span>(bytes proposalBytecode) </span><span>external </span></code><hr/><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/33047ffddcc81ba7b0349431c5065c448603d098/contracts/ownership/Ownable.sol#L37">onlyOwner</a> (factory deployer)</dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>proposalBytecode</code> - bytes</div></dd></dl></div></div></li></ul></div></div></div>
